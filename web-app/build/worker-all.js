(function e$$0(J,L,r){function v(g,w){if(!L[g]){if(!J[g]){var C="function"==typeof require&&require;if(!w&&C)return C(g,!0);if(E)return E(g,!0);throw Error("Cannot find module '"+g+"'");}C=L[g]={exports:{}};J[g][0].call(C.exports,function(d){var b=J[g][1][d];return v(b?b:d)},C,C.exports,e$$0,J,L,r)}return L[g].exports}for(var E="function"==typeof require&&require,g=0;g<r.length;g++)v(r[g]);return v})({1:[function(A,J,L){function r(){}function v(n,c,z,H){function a(a){if(!a)return H(null,"Couldn't access BAM");
a=b(a,a.byteLength);a=new Uint8Array(a);var f=g(a,0);if(21840194!=f)return H(null,"Not a BAM file, magic=0x"+f.toString(16));for(var h=g(a,4),k="",f=0;f<h;++f)k+=String.fromCharCode(a[f+8]);k=g(a,h+8);h+=12;e.chrToIndex={};e.indexToChr=[];for(f=0;f<k;++f){for(var m=g(a,h),x="",p=0;p<m-1;++p)x+=String.fromCharCode(a[h+4+p]);g(a,h+m+4);e.chrToIndex[x]=f;0==x.indexOf("chr")?e.chrToIndex[x.substring(3)]=f:e.chrToIndex["chr"+x]=f;e.indexToChr.push(x);h=h+8+m}if(e.indices)return H(e)}var e=new r;e.data=
n;e.bai=c;e.indexChunks=z;var f=e.indexChunks?e.indexChunks.minBlockIndex:1E9;if(e.indexChunks){n=e.indexChunks.chunks;e.indices=[];for(c=0;c<n.length;c++)e.indices[c]=null;e.data.slice(0,f).fetch(a)}else e.bai.fetch(function(q){var l,h,k;if(q){var m=new Uint8Array(q),x=g(m,0);if(21578050!=x)q=H(null,"Not a BAI file, magic=0x"+x.toString(16));else{x=g(m,4);e.indices=[];for(var p=8,D=0;D<x;++D){var F=p;l=m;var B=k=F;h=g(l,B);for(var B=B+4,b=0;b<h;++b){g(l,B);var n=g(l,B+4),B=B+(8+16*n)}for(var b=g(l,
B),B=B+4,n=1E9,z=B,c=0;c<b;++c){var K=d(l,z),z=z+8;if(K){l=K.block;0<K.offset&&(l+=65536);l<n&&(n=l);break}}B+=8*b;l=n;k=B-k;p+=k;f=Math.min(l,f);0<h&&(e.indices[D]=new Uint8Array(q,F,p-F))}q=!0}}else q="Couldn't access BAI";!0!==q?H(null,q):e.data.slice(0,f).fetch(a)})}function E(){}if("undefined"!==typeof A){A("./spans");L=A("./bin");var g=L.readInt,I=L.readShort,w=L.readByte,C=L.readFloat;A=A("./lh3utils");var d=A.readVob,b=A.unbgzf,c=A.reg2bins,t=A.Chunk}A={MULTIPLE_SEGMENTS:1,ALL_SEGMENTS_ALIGN:2,
SEGMENT_UNMAPPED:4,NEXT_SEGMENT_UNMAPPED:8,REVERSE_COMPLEMENT:16,NEXT_REVERSE_COMPLEMENT:32,FIRST_SEGMENT:64,LAST_SEGMENT:128,SECONDARY_ALIGNMENT:256,QC_FAIL:512,DUPLICATE:1024,SUPPLEMENTARY:2048};r.prototype.blocksForRange=function(b,K,z){var H=this.indices[b];if(!H)return[];b=c(K,z);for(var a=[],e=0;e<b.length;++e)a[b[e]]=!0;b=[];for(var f=[],e=g(H,0),q=4,l=0;l<e;++l){var h=g(H,q),k=g(H,q+4),q=q+8;if(a[h])for(var m=0;m<k;++m){var x=d(H,q),p=d(H,q+8);(4681>h?f:b).push(new t(x,p));q+=16}else q+=16*
k}e=g(H,q);a=null;K=Math.min(K>>14,e-1);z=Math.min(z>>14,e-1);for(e=K;e<=z;++e)(K=d(H,q+4+8*e))&&(!a||K.block<a.block||K.offset<a.offset)&&(a=K);H=[];if(null!=a)for(e=0;e<f.length;++e)z=f[e],z.maxv.block>=a.block&&z.maxv.offset>=a.offset&&H.push(z);f=H;H=[];for(e=0;e<f.length;++e)H.push(f[e]);for(e=0;e<b.length;++e)H.push(b[e]);H.sort(function(a,e){var f=a.minv.block-e.minv.block;return 0!=f?f:a.minv.offset-e.minv.offset});b=[];if(0<H.length){f=H[0];for(e=1;e<H.length;++e)z=H[e],z.minv.block==f.maxv.block?
f=new t(f.minv,z.maxv):(b.push(f),f=z);b.push(f)}return b};r.prototype.fetch=function(n,c,z,H,a){function e(){if(m>=l.length)return H(k);if(x){var p=new Uint8Array(x),p=f.readBamRecords(p,l[m].minv.offset,k,c,z,q,a);x=null;++m;return p?H(k):e()}var h=l[m],p=h.minv.block;f.data.slice(p,h.maxv.block+65536-p).fetch(function(a){x=b(a,h.maxv.block-h.minv.block+1);return e()})}var f=this;a=a||{};var q=this.chrToIndex[n],l;if(void 0===q)l=[];else{if(null===this.indices[q]&&this.indexChunks.chunks[q]){var h=
this.indexChunks.chunks[q];return this.bai.slice(h[0],h[1]).fetch(function(e){e=new Uint8Array(e);this.indices[q]=e;return this.fetch(n,c,z,H,a)}.bind(this))}(l=this.blocksForRange(q,c,z))||H(null,"Error in index fetch")}var k=[],m=0,x;e()};var u="=ACxGxxxTxxxxxxN".split(""),y="MIDNSHP=X???????".split("");r.prototype.readBamRecords=function(b,c,z,H,a,e,f){for(;;){var q=g(b,c),q=c+q+4;if(q>=b.length)return z;var l=new E,h=g(b,c+4),k=g(b,c+8),m=g(b,c+12),x=(m&65280)>>8,p=m&255,m=g(b,c+16),D=(m&4294901760)>>
16,F=m&65535,m=g(b,c+20),B=g(b,c+24),M=g(b,c+28);g(b,c+32);l.segment=this.indexToChr[h];l.flag=D;l.pos=k;l.mq=x;f.light&&(l.seqLength=m);if(!f.light){0<=B&&(l.nextSegment=this.indexToChr[B],l.nextPos=M);x="";for(k=0;k<p-1;++k)x+=String.fromCharCode(b[c+36+k]);l.readName=x;c=c+36+p;p="";for(k=0;k<F;++k)x=g(b,c),p=p+(x>>4)+y[x&15],c+=4;l.cigar=p;F="";p=m+1>>1;for(k=0;k<p;++k)x=b[c+k],F+=u[(x&240)>>4],F+=u[x&15];c+=p;l.seq=F;F="";for(k=0;k<m;++k)F+=String.fromCharCode(b[c+k]+33);c+=m;for(l.quals=F;c<
q;){F=String.fromCharCode(b[c],b[c+1]);p=String.fromCharCode(b[c+2]);if("A"==p)p=String.fromCharCode(b[c+3]),c+=4;else if("i"==p||"I"==p)p=g(b,c+3),c+=7;else if("c"==p||"C"==p)p=b[c+3],c+=4;else if("s"==p||"S"==p)p=I(b,c+3),c+=5;else if("f"==p)p=C(b,c+3),c+=7;else if("Z"==p||"H"==p)for(c+=3,p="";k=b[c++],0!=k;)p+=String.fromCharCode(k);else if("B"==p){p=String.fromCharCode(b[c+3]);k=g(b,c+4);if("i"==p||"I"==p||"f"==p)x=4,D="f"==p?C:g;else if("s"==p||"S"==p)x=2,D=I;else if("c"==p||"C"==p)x=1,D=w;else throw"Unknown array type "+
p;c+=8;p=[];for(B=0;B<k;++B)p.push(D(b,c)),c+=x}else throw"Unknown type "+p;l[F]=p}}if(!H||l.pos<=a&&l.pos+m>=H)void 0!==e&&h!=e||z.push(l);if(l.pos>a)return!0;c=q}};"undefined"!==typeof J&&(J.exports={makeBam:v,BAM_MAGIC:21840194,BAI_MAGIC:21578050,BamFlags:A})},{"./bin":3,"./lh3utils":7,"./spans":9}],2:[function(A,J,L){function r(b,c){return b[c]+256*b[c+1]+65536*b[c+2]+16777216*b[c+3]+4294967296*b[c+4]}function v(){}function E(b,c,a,e){this.bwg=b;this.cirTreeOffset=c;this.cirTreeLength=a;this.isSummary=
e}function g(b,c,a){var e=new v;e.data=b;e.name=a;e.data.slice(0,512).salted().fetch(function(a){if(!a)return c(null,"Couldn't fetch file");var q=new Uint8Array(a),l=new Int16Array(a);a=new Int32Array(a);var h=q[0]+256*q[1]+65536*q[2]+16777216*q[3];2291137574==h?e.type="bigwig":2273964779==h?e.type="bigbed":654086024==h||3958540679==h?c(null,"Currently don't support big-endian BBI files"):c(null,"Not a supported format, magic=0x"+h.toString(16));e.version=l[2];e.numZoomLevels=l[3];e.chromTreeOffset=
r(q,8);e.unzoomedDataOffset=r(q,16);e.unzoomedIndexOffset=r(q,24);e.fieldCount=l[16];e.definedFieldCount=l[17];e.asOffset=r(q,36);e.totalSummaryOffset=r(q,44);e.uncompressBufSize=a[13];e.extHeaderOffset=r(q,56);e.zoomLevels=[];for(l=0;l<e.numZoomLevels;++l){var h=a[6*l+16],k=r(q,24*l+72),m=r(q,24*l+80);e.zoomLevels.push({reduction:h,dataOffset:k,indexOffset:m})}e.readChromTree(function(){e.getAutoSQL(function(a){e.schema=a;return c(e)})})})}function I(b,c,a,e,f){this.bbi=b;this.type=c;this.fieldCount=
a;this.offset=e;this.field=f}if("undefined"!==typeof A){L=A("./spans");var w=L.Range,C=L.union,d=L.intersection;L=A("./das");var b=L.DASFeature,c=L.DASGroup,t=A("./utils").shallowCopy,u=A("./bin").readInt;A=A("jszlib");var y=A.inflateBuffer,n=A.arrayCopy}var K=/^[0-9]+,[0-9]+,[0-9]+/;v.prototype.readChromTree=function(b){var c=this;this.chromsToIDs={};this.idsToChroms={};this.maxID=0;var a=this.unzoomedDataOffset,a=a+4-(a-this.chromTreeOffset&3);this.data.slice(this.chromTreeOffset,a-this.chromTreeOffset).fetch(function(a){var f=
new Uint8Array(a),q=new Int16Array(a),l=(new Int32Array(a))[2];r(f,16);var h=function(a){var e=f[a],b=q[a/2+1];a+=4;for(var p=0;p<b;++p)if(0==e){a+=l;var D=r(f,a);a+=8;D-=c.chromTreeOffset;h(D)}else{for(var D="",F=0;F<l;++F){var B=f[a++];0!=B&&(D+=String.fromCharCode(B))}F=f[a+3]<<24|f[a+2]<<16|f[a+1]<<8|f[a+0];a+=8;c.chromsToIDs[D]=F;0==D.indexOf("chr")&&(c.chromsToIDs[D.substr(3)]=F);c.idsToChroms[F]=D;c.maxID=Math.max(c.maxID,F)}};h(32);b(c)})};E.prototype.readWigData=function(b,c,a,e){b=this.bwg.chromsToIDs[b];
if(void 0===b)return e([]);this.readWigDataById(b,c,a,e)};E.prototype.readWigDataById=function(b,c,a,e){var f=this;if(this.cirHeader){var q=[],l=0;Date.now();var h=function(e,f,h,q){return(0>b||e==b)&&f<=a&&h>=c},k=function(a,k){f.bwg.instrument&&console.log("level="+k+"; offset="+a+"; time="+(Date.now()|0));l+=a.length;if(1==a.length&&48==a[0]-f.cirTreeOffset&&f.cachedCirRoot)x(f.cachedCirRoot,0,k),--l,0==l&&f.fetchFeatures(h,q,e);else{for(var b=4+32*f.cirBlockSize,c,n=0;n<a.length;++n){var z=new w(a[n],
a[n]+b);c=c?C(c,z):z}b=c.ranges();for(c=0;c<b.length;++c)m(a,b[c],k)}},m=function(a,k,m,b){k.max();k.min();f.bwg.data.slice(k.min(),k.max()-k.min()).fetch(function(b){for(var c=0;c<a.length;++c)k.contains(a[c])&&(x(b,a[c]-k.min(),m),48==a[c]-f.cirTreeOffset&&0==a[c]-k.min()&&(f.cachedCirRoot=b),--l,0==l&&f.fetchFeatures(h,q,e))})},x=function(e,f,h){var m=new Uint8Array(e),l=new Int16Array(e);e=new Int32Array(e);var x=m[f],l=l[f/2+1];f+=4;if(0!=x)for(x=0;x<l;++x){var n=f/4,d=e[n],y=e[n+1],t=e[n+2],
n=e[n+3],K=r(m,f+16);h=r(m,f+24);(0>b||d<b||d==b&&y<=a)&&(0>b||t>b||t==b&&n>=c)&&q.push({offset:K,size:h});f+=32}else{for(var u=[],x=0;x<l;++x)n=f/4,d=e[n],y=e[n+1],t=e[n+2],n=e[n+3],K=r(m,f+16),(0>b||d<b||d==b&&y<=a)&&(0>b||t>b||t==b&&n>=c)&&u.push(K),f+=24;0<u.length&&k(u,h+1)}};k([f.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(h){f.cirHeader=h;h=new Int32Array(f.cirHeader);f.cirBlockSize=h[1];f.readWigDataById(b,c,a,e)})};E.prototype.fetchFeatures=function(c,
d,a){var e=this;d.sort(function(a,e){return(a.offset|0)-(e.offset|0)});if(0==d.length)a([]);else{var f=[],q=function(a,k,q,l){l||(l={});var p=new b;p._chromId=a;p.segment=e.bwg.idsToChroms[a];p.min=k;p.max=q;p.type="bigwig";for(var c in l)p[c]=l[c];f.push(p)},l=function(){if(0==d.length)Date.now(),a(f);else{var h=d[0];if(h.data)e.parseFeatures(h.data,q,c),d.splice(0,1),l();else{for(var k=h.offset,m=h.size,h=1;h<d.length&&d[h].offset==k+m;)m+=d[h].size,++h;e.bwg.data.slice(k,m).fetch(function(a){for(var f=
0,h=0;f<m;){var k=d[h],q;0<e.bwg.uncompressBufSize?q=y(a,f+2,k.size-2):(q=new Uint8Array(k.size),n(new Uint8Array(a,f,k.size),0,q,0,k.size),q=q.buffer);k.data=q;f+=k.size;++h}l()})}}};l()}};E.prototype.parseFeatures=function(b,n,a){var e=new Uint8Array(b);if(this.isSummary)for(var f=new Int16Array(b),q=new Int32Array(b),l=new Float32Array(b),e=b.byteLength/32,f=0;f<e;++f){b=q[8*f];var h=q[8*f+1],k=q[8*f+2],m=q[8*f+3],x=l[8*f+5],p=l[8*f+6];a(b,h+1,k)&&(m={type:"bigwig",score:p/m,maxScore:x},"bigbed"==
this.bwg.type&&(m.type="density"),n(b,h+1,k,m))}else if("bigwig"==this.bwg.type)if(f=new Int16Array(b),q=new Int32Array(b),l=new Float32Array(b),b=q[0],x=q[1],p=q[3],m=q[4],h=e[20],e=f[11],3==h)for(f=0;f<e;++f){var D=l[f+6],q=x+f*p+1,h=x+f*p+m;a(b,q,h)&&n(b,q,h,{score:D})}else if(2==h)for(f=0;f<e;++f)h=q[2*f+6]+1,k=h+m-1,D=l[2*f+7],a(b,h,k)&&n(b,h,k,{score:D});else if(1==h)for(f=0;f<e;++f)h=q[3*f+6]+1,k=q[3*f+7],D=l[3*f+8],h>k&&(h=k),a(b,h,k)&&n(b,h,k,{score:D});else console.log("Currently not handling bwgType="+
h);else if("bigbed"==this.bwg.type)for(f=0,m=this.bwg.definedFieldCount,x=this.bwg.schema;f<e.length;){b=e[f+3]<<24|e[f+2]<<16|e[f+1]<<8|e[f+0];h=e[f+7]<<24|e[f+6]<<16|e[f+5]<<8|e[f+4];k=e[f+11]<<24|e[f+10]<<16|e[f+9]<<8|e[f+8];f+=12;for(D="";;)if(p=e[f++],0!=p)D+=String.fromCharCode(p);else break;var p={},F;F=0<D.length?D.split("\t"):[];0<F.length&&3<m&&(p.label=F[0]);1<F.length&&4<m&&(D=parseInt(F[1]),isNaN(D)||(p.score=D));2<F.length&&5<m&&(p.orientation=F[2]);5<F.length&&8<m&&(D=F[5],K.test(D)&&
(p.itemRgb="rgb("+D+")"));if(F.length>m-3&&x)for(D=m-3;D<F.length;++D)p[x.fields[D+3].name]=F[D];if(a(b,h+1,k,F))if(12>m)n(b,h+1,k,p);else{var D=F[3]|0,B=F[4]|0,M=F[6]|0,y=F[7].split(","),O=F[8].split(",");p.exonFrames&&(l=p.exonFrames.split(","),p.exonFrames=void 0);p.type="transcript";var N=new c;for(q in p)N[q]=p[q];N.id=F[0];N.segment=this.bwg.idsToChroms[b];N.min=h+1;N.max=k;N.notes=[];p.groups=[N];if(9<F.length){var u=k=p.geneName||F[9];10<F.length&&(u=F[10]);p.geneName2&&(u=p.geneName2);F=
t(N);F.id=k;F.label=u;F.type="gene";p.groups.push(F)}k=[];for(F=0;F<M;++F)N=(O[F]|0)+h,N=new w(N,N+(y[F]|0)),k.push(N);y=C(k);M=y.ranges();for(h=0;h<M.length;++h)k=M[h],n(b,k.min()+1,k.max(),p);if(B>D&&(h="+"==p.orientation?new w(D,B+3):new w(D-3,B),h=d(y,h))){p.type="translation";D=h.ranges();for(y=B=0;D[0].min()>M[y].max();)y++;for(h=0;h<D.length;++h)M=h,"-"==p.orientation&&(M=D.length-h-1),k=D[M],p.readframe=B,l&&(M=parseInt(l[M+y]),"number"===typeof M&&0<=M&&2>=M&&(p.readframe=M,p.readframeExplicit=
!0)),M=k.max()-k.min(),B=(B+M)%3,n(b,k.min()+1,k.max(),p)}}}else throw Error("Don't know what to do with "+this.bwg.type);};E.prototype.getFirstAdjacent=function(b,c,a,e){b=this.bwg.chromsToIDs[b];if(void 0===b)return e([]);this.getFirstAdjacentById(b,c,a,e)};E.prototype.getFirstAdjacentById=function(b,c,a,e){var f=this;if(this.cirHeader){var q=null,l=-1,h=-1,k=0;Date.now();var m=function(a,e){k+=a.length;for(var h=4+32*f.cirBlockSize,b,q=0;q<a.length;++q){var m=new w(a[q],a[q]+h);b=b?C(b,m):m}h=
b.ranges();for(b=0;b<h.length;++b)x(a,h[b],e)},x=function(h,m,l,x){m.max();m.min();f.bwg.data.slice(m.min(),m.max()-m.min()).fetch(function(x){for(var n=0;n<h.length;++n)if(m.contains(h[n])&&(p(x,h[n]-m.min(),l),--k,0==k)){if(!q)return 0<a&&(0!=b||0<c)?f.getFirstAdjacentById(0,0,a,e):0>a&&(b!=f.bwg.maxID||1E9>c)?f.getFirstAdjacentById(f.bwg.maxID,1E9,a,e):e([]);f.fetchFeatures(function(e,f,h,q){return 0>a&&(e<b||h<c)||0<a&&(e>b||f>c)},[q],function(f){for(var h=null,b=-1,q=-1,k=0;k<f.length;++k){var m=
f[k],p=m._chromId,c=m.min,l=m.max;if(null==h||0>a&&(p>b||l>q)||0<a&&(p<b||c<q))h=m,q=0>a?l:c,b=p}return null!=h?e([h]):e([])})}})},p=function(e,k,p){var x=new Uint8Array(e),n=new Int16Array(e);e=new Int32Array(e);var d=x[k],n=n[k/2+1];k+=4;if(0!=d)for(d=0;d<n;++d){var y=k/4,t=e[y],K=e[y+1],u=e[y+2],w=e[y+3],y=r(x,k+16);p=r(x,k+24);(0>a&&(t<b||t==b&&K<=c)||0<a&&(u>b||u==b&&w>=c))&&!/_random/.exec(f.bwg.idsToChroms[t])&&(null==q||0>a&&(u>l||u==l&&w>h)||0<a&&(t<l||t==l&&K<h))&&(q={offset:y,size:p},h=
0>a?w:K,l=0>a?u:t);k+=32}else{for(var g=x=-1,d=0;d<n;++d){y=k/4;t=e[y];K=e[y+1];u=e[y+2];w=e[y+3];y=e[y+4]<<32|e[y+5];if(0>a&&(t<b||t==b&&K<=c)&&u>=b||0<a&&(u>b||u==b&&w>=c)&&t<=b)if(0>x||w>g)x=y,g=0>a?w:K;k+=24}0<=x&&m([x],p+1)}};m([f.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(h){f.cirHeader=h;h=new Int32Array(f.cirHeader);f.cirBlockSize=h[1];f.getFirstAdjacentById(b,c,a,e)})};v.prototype.readWigData=function(b,c,a,e){this.getUnzoomedView().readWigData(b,
c,a,e)};v.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var b=4E3;this.zoomLevels[0]&&(b=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset);this.unzoomedView=new E(this,this.unzoomedIndexOffset,b,!1)}return this.unzoomedView};v.prototype.getZoomedView=function(b){b=this.zoomLevels[b];b.view||(b.view=new E(this,b.indexOffset,4E3,!0));return b.view};v.prototype._tsFetch=function(b,c,a,e,f){var q=this;if(b>=this.zoomLevels.length-1){if(this.topLevelReductionCache){for(var l=[],h=this.topLevelReductionCache,
k=0;k<h.length;++k)h[k]._chromId==c&&l.push(h[k]);return f(l)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3E8,function(h){q.topLevelReductionCache=h;return q._tsFetch(b,c,a,e,f)})}else return(0>b?this.getUnzoomedView():this.getZoomedView(b)).readWigDataById(c,a,e,f)};v.prototype.thresholdSearch=function(b,c,a,e,f){function q(){if(0==h.length)return f(null);h.sort(function(e,f){var b=e.zoom-f.zoom;if(0!=b)return b;b=e.chrOrd-f.chrOrd;return 0!=b?b:e.min-f.min*a});var b=h.splice(0,
1)[0];l._tsFetch(b.zoom,b.chr,b.min,b.max,function(k){var m=0<a?0:3E8;b.fromRef&&(m=c);for(var l=0;l<k.length;++l){var n=k[l],d;d=void 0!=n.maxScore?n.maxScore:n.score;if(0<a){if(d>e)if(0>b.zoom){if(n.min>m)return f(n)}else n.max>m&&h.push({chr:b.chr,chrOrd:b.chrOrd,zoom:b.zoom-2,min:n.min,max:n.max,fromRef:b.fromRef})}else if(d>e)if(0>b.zoom){if(n.max<m)return f(n)}else n.min<m&&h.push({chr:b.chr,chrOrd:b.chrOrd,zoom:b.zoom-2,min:n.min,max:n.max,fromRef:b.fromRef})}q()})}a=0>a?-1:1;var l=this;b=
this.chromsToIDs[b];for(var h=[{chrOrd:0,chr:b,zoom:l.zoomLevels.length-4,min:0,max:3E8,fromRef:!0}],k=1;k<=this.maxID+1;++k){var m=(b+a*k)%(this.maxID+1);0>m&&(m+=this.maxID+1);h.push({chrOrd:k,chr:m,zoom:l.zoomLevels.length-1,min:0,max:3E8})}q()};v.prototype.getAutoSQL=function(b){if(!this.asOffset)return b(null);this.data.slice(this.asOffset,2048).fetch(function(c){var a=new Uint8Array(c);c="";for(var e=0;e<a.length&&0!=a[e];++e)c+=String.fromCharCode(a[e]);var a=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,
f=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/.exec(c);if(f){e={declType:f[1],name:f[2],comment:f[4],fields:[]};c=c.substring(f[0]);for(f=a.exec(c);null!=f;f=a.exec(c))e.fields.push({type:f[1],name:f[2],comment:f[4]});return b(e)}})};v.prototype.getExtraIndices=function(b){var c=this;if(4>this.version||0==this.extHeaderOffset||"bigbed"!=this.type)return b(null);this.data.slice(this.extHeaderOffset,64).fetch(function(a){if(!a)return b(null,"Couldn't fetch extension header");var e=new Uint8Array(a),f=new Int16Array(a);
new Int32Array(a);var q=f[1];a=r(e,4);if(0==q)return b(null);c.data.slice(a,20*q).fetch(function(a){if(!a)return b(null,"Couldn't fetch index info");var e=new Uint8Array(a),f=new Int16Array(a);new Int32Array(a);a=[];for(var m=0;m<q;++m){var x=f[10*m],p=f[10*m+1],n=r(e,20*m+4),x=new I(c,x,p,n,f[10*m+8]);a.push(x)}b(a)})})};I.prototype.lookup=function(b,c){var a=this;this.bbi.data.slice(this.offset,32).fetch(function(e){function f(e){a.bbi.data.slice(e,4+l*(h+k)).fetch(function(e){var q=new Uint8Array(e),
m=new Uint16Array(e);new Uint32Array(e);m=m[1];e=4;if(0==q[0]){for(var l=null,n=0;n<m;++n){for(var d="",y=0;y<h;++y){var t=q[e++];0!=t&&(d+=String.fromCharCode(t))}y=r(q,e);e+=8;if(0>b.localeCompare(d)&&l){f(l);return}l=y}f(l)}else{for(n=0;n<m;++n){d="";for(y=0;y<h;++y)t=q[e++],0!=t&&(d+=String.fromCharCode(t));if(d==b)return m=r(q,e),q=u(q,e+8),a.bbi.getUnzoomedView().fetchFeatures(function(e,f,h,k){if(k&&k.length>a.field-3)return k[a.field-3]==b},[{offset:m,size:q}],c);e+=k}return c([])}})}var q=
new Uint8Array(e);new Int16Array(e);e=new Int32Array(e);var l=e[1],h=e[2],k=e[3];r(q,16);f(a.offset+32)})};"undefined"!==typeof J&&(J.exports={makeBwg:g,BIG_BED_MAGIC:2273964779,BIG_WIG_MAGIC:2291137574})},{"./bin":3,"./das":5,"./spans":9,"./utils":10,jszlib:11}],3:[function(A,J,L){function r(b){this.blob=b}function v(b,c,d,t){t||("object"===typeof c?(t=c,c=void 0):t={});this.url=b;this.start=c||0;d&&(this.end=d);this.opts=t}function E(b){if(!b)return null;for(var c=new Uint8Array(b.length),d=0;d<
c.length;++d)c[d]=b.charCodeAt(d);return c.buffer}function g(b,c){return b[c+7]<<24|b[c+6]<<16|b[c+5]<<8|b[c+4]}function I(b,c){return b[c+3]<<24|b[c+2]<<16|b[c+1]<<8|b[c]}function w(b,c){return b[c+1]<<8|b[c]}function C(b,c){return b[c]}function d(b,c){return b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3]}if("undefined"!==typeof A)var b=A("./utils").shallowCopy,c=A("./sha1").b64_sha1;r.prototype.slice=function(b,c){var d;d=this.blob.slice?c?this.blob.slice(b,b+c):this.blob.slice(b):c?this.blob.webkitSlice(b,
b+c):this.blob.webkitSlice(b);return new r(d)};r.prototype.salted=function(){return this};r.prototype.fetch="undefined"!==typeof FileReader?function(b){var c=new FileReader;c.onloadend=function(d){b(E(c.result))};c.readAsBinaryString(this.blob)}:function(b){var c=new FileReaderSync;try{var d=c.readAsArrayBuffer(this.blob);b(d)}catch(t){b(null,t)}};v.prototype.slice=function(b,c){if(0>b)throw"Bad slice "+b;var d=this.start,t=this.end,d=d&&b?d+b:b||d;return new v(this.url,d,c&&d?d+c-1:t||c-1,this.opts)};
var t=0,u=0<=navigator.userAgent.indexOf("Safari")&&0>navigator.userAgent.indexOf("Chrome");v.prototype.fetchAsText=function(b){var d=new XMLHttpRequest,w=this.url;if(u||this.opts.salt)w=w+"?salt="+c(""+Date.now()+","+ ++t);d.open("GET",w,!0);if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";d.setRequestHeader("Range","bytes="+this.start+"-"+this.end)}d.onreadystatechange=function(){if(4==d.readyState)return 200==d.status||206==d.status?b(d.responseText):b(null)};this.opts.credentials&&
(d.withCredentials=!0);d.send("")};v.prototype.salted=function(){var c=b(this.opts);c.salt=!0;return new v(this.url,this.start,this.end,c)};v.prototype.fetch=function(b,d,w){var r=this;d=d||1;if(3<d)return b(null);var g=new XMLHttpRequest,a,e=this.url;if(u||this.opts.salt)e=e+"?salt="+c(""+Date.now()+","+ ++t);g.open("GET",e,!0);g.overrideMimeType("text/plain; charset=x-user-defined");if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";g.setRequestHeader("Range","bytes="+this.start+"-"+
this.end);a=this.end-this.start+1}g.responseType="arraybuffer";g.onreadystatechange=function(){if(4==g.readyState){if(200==g.status||206==g.status){if(g.response){var e=g.response.byteLength;return!a||a==e||w&&e==w?b(g.response):r.fetch(b,d+1,e)}if(g.mozResponseArrayBuffer)return b(g.mozResponseArrayBuffer);e=g.responseText;return!a||a==e.length||w&&e.length==w?b(E(g.responseText)):r.fetch(b,d+1,e.length)}return r.fetch(b,d+1)}};this.opts.credentials&&(g.withCredentials=!0);g.send("")};(function(b){var c=
new ArrayBuffer(8),d=new Uint8Array(c),t=new Float32Array(c);b.readFloat=function(b,a){d[0]=b[a];d[1]=b[a+1];d[2]=b[a+2];d[3]=b[a+3];return t[0]}})(this);"undefined"!==typeof J&&(J.exports={BlobFetchable:r,URLFetchable:v,readInt:I,readIntBE:d,readInt64:g,readShort:w,readByte:C,readFloat:this.readFloat})},{"./sha1":8,"./utils":10}],4:[function(A,J,L){function r(b,c,d,u){this.red=b|0;this.green=c|0;this.blue=d|0;u&&(this.name=u)}function v(b){b="00"+b.toString(16);return b.substring(b.length-2)}function E(b){var c=
w[b];c||((c=C.exec(b))?c=new r("0x"+c[1]|0,"0x"+c[2]|0,"0x"+c[3]|0,b):(c=d.exec(b))?c=new r(c[1]|0,c[2]|0,c[3]|0,b):(console.log("couldn't handle color: "+b),c=w.black),w[b]=c);return c}function g(b,c,d){for(var u=[],w=0;w<d.length;++w)u.push(E(d[w]));d=[];w=0;a:for(;w<b;++w){for(var n=c[0]+1*w/(b-1)*(c[c.length-1]-c[0]),g=0;g<c.length-1;++g)if(n>=c[g]&&n<=c[g+1]){var n=(n-c[g])/(c[g+1]-c[g]),C=u[g],g=u[g+1],g=(new r(C.red*(1-n)+g.red*n|0,C.green*(1-n)+g.green*n|0,C.blue*(1-n)+g.blue*n|0)).toSvgString();
d.push(g);continue a}throw"Bad step";}return d}function I(b,c,d,w){return w?g(b,[0,.5,1],[c,d,w]):g(b,[0,1],[c,d])}r.prototype.toSvgString=function(){this.name||(this.name="rgb("+this.red+","+this.green+","+this.blue+")");return this.name};r.prototype.toHexString=function(){return"#"+v(this.red)+v(this.green)+v(this.blue)};var w={red:new r(255,0,0,"red"),green:new r(0,255,0,"green"),blue:new r(0,0,255,"blue"),yellow:new r(255,255,0,"yellow"),white:new r(255,255,255,"white"),black:new r(0,0,0,"black"),
gray:new r(180,180,180,"gray"),grey:new r(180,180,180,"grey"),lightskyblue:new r(135,206,250,"lightskyblue"),lightsalmon:new r(255,160,122,"lightsalmon"),hotpink:new r(255,105,180,"hotpink")},C=/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/,d=/rgb\(([0-9]+),([0-9]+),([0-9]+)\)/;"undefined"!==typeof J&&(J.exports={makeColourSteps:g,makeGradient:I,dasColourForName:E})},{}],5:[function(A,J,L){function r(a,e,b,f){this.name=a;this.start=e;this.end=b;this.description=f}function v(a,e){var b;"string"==
typeof a?(this.uri=a,b=e||{}):b=a||{};for(var f in b)"function"!=typeof b[f]&&(this[f]=b[f]);this.coords||(this.coords=[]);this.props||(this.props={});(this.dasBaseURI=this.uri)&&"/"!=this.dasBaseURI.substr(this.uri.length-1)&&(this.dasBaseURI+="/")}function E(){}function g(a,e){return a.taxon==e.taxon&&a.auth==e.auth&&a.version==e.version}function I(a,e,b,f,c){this.name=a;this.start=e;this.end=b;this.alphabet=f;this.seq=c}function w(){}function C(a){a&&(this.id=a)}function d(a,e){this.desc=a;this.uri=
e}function b(a){this.type=a;this.objects={};this.blocks=[]}function c(){this.styles=[]}function t(){}function u(a,e){e=e||{};this.uri=a;this.opts=e}function y(a,e){var b=a.getElementsByTagName(e);if(0<b.length&&b[0].firstChild){b=b[0];if(1==b.childNodes.length)return b.firstChild.nodeValue;for(var f="",c=0;c<b.childNodes.length;++c)f+=b.childNodes[c].nodeValue;return f}return null}function n(a){for(var e=[],b=a.getElementsByTagName("LINK"),f=0;f<b.length;++f){var c=b[f];c.parentNode==a&&e.push(new d(c.firstChild?
c.firstChild.nodeValue:"Unknown",c.getAttribute("href")))}return e}function K(a){var e=[];a=a.getElementsByTagName("NOTE");for(var b=0;b<a.length;++b)a[b].firstChild&&e.push(a[b].firstChild.nodeValue);return e}function z(a,e,b,f){if(window.XDomainRequest){var c=new XDomainRequest;c.onload=function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(c.responseText);e(a)};c.open("get",a)}else Date.now(),c=new XMLHttpRequest,c.onreadystatechange=function(){4==c.readyState&&(200<=c.status||
0==c.status)&&e(c.responseXML,c)},c.open("get",a,!0),b&&(c.withCredentials=!0),f&&c.setRequestHeader("X-DAS-Authorisation",f),c.overrideMimeType("text/xml"),c.setRequestHeader("Accept","application/xml,*/*");c.send("")}function H(a){a=(""+a).toLowerCase();return"yes"===a||"true"===a}function a(a){if(!a)return!1;a=(""+a).toLowerCase();return"no"!==a||"false"!==a}function e(a){var e=f(a);e.styles=[];for(var b=0;b<a.styles.length;++b){var c=e.styles[b]=f(a.styles[b]);c._methodRE=c._labelRE=c._typeRE=
void 0;c.style=f(c.style);c.style.id=void 0;c.style._gradient=void 0}return e}if("undefined"!==typeof A){L=A("./utils");var f=L.shallowCopy,q=L.pusho,l=A("./color").makeColourSteps}r.prototype.toString=function(){return this.name+":"+this.start+".."+this.end};r.prototype.isBounded=function(){return this.start&&this.end};r.prototype.toDASQuery=function(){var a="segment="+this.name;this.start&&this.end&&(a+=":"+this.start+","+this.end);return a};v.prototype.entryPoints=function(a){this.doCrossDomainRequest(this.dasBaseURI+
"entry_points",function(e){if(!e)return a([]);var b=[];e=e.getElementsByTagName("SEGMENT");for(var f=0;f<e.length;++f){var c=e[f],q=c.getAttribute("id"),l=c.getAttribute("size"),d;l?(d=1,l|=0):((d=c.getAttribute("start"))&&(d|=0),(l=c.getAttribute("stop"))&&(l|=0));var n=null;c.firstChild&&(n=c.firstChild.nodeValue);b.push(new r(q,d,l,n))}a(b)})};v.prototype.sequence=function(a,e){var b=this.dasBaseURI+"sequence?"+a.toDASQuery();this.doCrossDomainRequest(b,function(a){if(a){var b=[];a=a.getElementsByTagName("SEQUENCE");
for(var f=0;f<a.length;++f){var c=a[f],q=c.getAttribute("id"),h=c.getAttribute("start"),l=c.getAttribute("stop"),m=null;if(c.firstChild)for(var c=c.firstChild.nodeValue,m="",d=0;;){var n=c.indexOf("\n",d);if(0<=n)m+=c.substring(d,n).toUpperCase(),d=n+1;else{m+=c.substring(d).toUpperCase();break}}b.push(new I(q,h,l,"DNA",m))}e(b)}else e([])})};v.prototype.features=function(a,e,b){e=e||{};var f;if(this.features_uri)f=this.features_uri;else{var c=[];if(a)c.push(a.toDASQuery());else if(e.group)if(a=e.group,
"string"==typeof a)c.push("group_id="+a);else for(var q=0;q<a.length;++q)c.push("group_id="+a[q]);if(e.adjacent)for(a=e.adjacent,"string"==typeof a&&(a=[a]),q=0;q<a.length;++q)c.push("adjacent="+a[q]);if(e.type)if("string"==typeof e.type)c.push("type="+e.type);else for(a=0;a<e.type.length;++a)c.push("type="+e.type[a]);e.maxbins&&c.push("maxbins="+e.maxbins);0<c.length?f=this.dasBaseURI+"features?"+c.join(";"):b([],"No filters specified")}this.doCrossDomainRequest(f,function(a,e){if(a){for(var f=[],
c={},q=a.getElementsByTagName("SEGMENT"),h=0;h<q.length;++h){var l=q[h],k=l.getAttribute("id");c[k]={min:l.getAttribute("start"),max:l.getAttribute("stop")};for(var l=l.getElementsByTagName("FEATURE"),p=0;p<l.length;++p){var d=l[p],x=new w;x.segment=k;x.id=d.getAttribute("id");x.label=d.getAttribute("label");var t=y(d,"START"),g=y(d,"END");(t|0)>(g|0)?(x.min=g|0,x.max=t|0):(x.min=t|0,x.max=g|0);t=d.getElementsByTagName("TYPE");0<t.length&&(t=t[0],t.firstChild&&(x.type=t.firstChild.nodeValue),x.typeId=
t.getAttribute("id"),x.typeCv=t.getAttribute("cvId"));x.type=y(d,"TYPE");!x.type&&x.typeId&&(x.type=x.typeId);x.method=y(d,"METHOD");(t=y(d,"ORIENTATION"))||(t="0");x.orientation=t;x.score=y(d,"SCORE");x.links=n(d);x.notes=K(d);t=d.getElementsByTagName("GROUP");for(g=0;g<t.length;++g){var D=t[g],u=new C;u.type=D.getAttribute("type");u.id=D.getAttribute("id");u.links=n(D);u.notes=K(D);x.groups?x.groups.push(u):x.groups=Array(u)}if(x.notes)for(t=0;t<x.notes.length;++t)g=x.notes[t],0==g.indexOf("Genename=")&&
(D=new C,D.type="gene",D.id=g.substring(9),x.groups?x.groups.push(D):x.groups=Array(D));t=d.getElementsByTagName("PART");if(0<t.length){D=[];for(g=0;g<t.length;++g)D.push(t[g].getAttribute("id"));x.parts=D}t=d.getElementsByTagName("PARENT");if(0<t.length){d=[];for(g=0;g<t.length;++g)d.push(t[g].getAttribute("id"));x.parents=d}f.push(x)}}b(f,void 0,c)}else b([],"Failed request: "+(0==e.status?"server may not support CORS":"status="+e.status))},function(a){b([],a)})};v.prototype.alignments=function(a,
e,f){var c=this.dasBaseURI+"alignment?query="+a;this.doCrossDomainRequest(c,function(a){if(a){var e=[];a=a.getElementsByTagName("alignment");for(var q=0;q<a.length;++q){for(var l=a[q],h=new b(l.getAttribute("alignType")),k=l.getElementsByTagName("alignObject"),d=0;d<k.length;++d){var t=k[d],t={id:t.getAttribute("intObjectId"),accession:t.getAttribute("dbAccessionId"),version:t.getAttribute("objectVersion"),dbSource:t.getAttribute("dbSource"),dbVersion:t.getAttribute("dbVersion")};h.objects[t.id]=
t}l=l.getElementsByTagName("block");for(k=0;k<l.length;++k){for(var t=l[k],d={order:t.getAttribute("blockOrder"),segments:[]},t=t.getElementsByTagName("segment"),n=0;n<t.length;++n){var g=t[n],g={object:g.getAttribute("intObjectId"),min:g.getAttribute("start"),max:g.getAttribute("end"),strand:g.getAttribute("strand"),cigar:y(g,"cigar")};d.segments.push(g)}h.blocks.push(d)}e.push(h)}f(e)}else f([],"Failed request "+c)})};c.prototype.pushStyle=function(a,e,b){a||(a={type:"default"});a=f(a);e&&(a.zoom=
e);a.style=b;this.styles.push(a)};v.prototype.stylesheet=function(a,e){var b,f=this.credentials;this.stylesheet_uri?(b=this.stylesheet_uri,f=!1):b=this.dasBaseURI+"stylesheet";z(b,function(b){if(b){var f=new c;b=b.getElementsByTagName("TYPE");for(var q=0;q<b.length;++q){var m=b[q],d={};d.type=m.getAttribute("id");d.label=m.getAttribute("label");d.method=m.getAttribute("method");for(var m=m.getElementsByTagName("GLYPH"),x=0;x<m.length;++x){var n=m[x],g=n.getAttribute("zoom"),u;a:{if(n.hasChildNodes()){n=
n.firstChild;do{if(n.nodeType==Node.ELEMENT_NODE){u=n;break a}n=n.nextSibling}while(null!=n)}u=null}n=new t;n.glyph=u.localName;for(u=u.firstChild;u;){if(u.nodeType==Node.ELEMENT_NODE)if("BGGRAD"==u.localName){var w=n,y=u.localName,r,C=u;r=(r=C.getAttribute("steps"))?r|0:50;for(var v=[],K=[],C=C.getElementsByTagName("STOP"),z=0;z<C.length;++z){var A=C[z];v.push(1*A.getAttribute("score"));K.push(A.firstChild.nodeValue)}r=l(r,v,K);w[y]=r}else n[u.localName]=u.firstChild.nodeValue;u=u.nextSibling}f.pushStyle(d,
g,n)}}a(f)}else e&&e()},f)};u.prototype.sources=function(a,e,b){b||(b={});var f=[];b.taxon&&f.push("organism="+b.taxon);b.auth&&f.push("authority="+b.auth);b.version&&f.push("version="+b.version);b=this.uri;0<f.length&&(b=b+"?"+f.join("&"));z(b,function(b){if(!b&&e)e();else{var f=[];b=b.getElementsByTagName("SOURCE");for(var c=0;c<b.length;++c){var l=b[c],m=l.getElementsByTagName("VERSION");if(!(1>m.length)){for(var d=m[0],x=d.getElementsByTagName("COORDINATES"),m=[],t=0;t<x.length;++t){var n=x[t],
g=new E;g.auth=n.getAttribute("authority");g.taxon=n.getAttribute("taxid");g.version=n.getAttribute("version");m.push(g)}for(var x=[],n=d.getElementsByTagName("CAPABILITY"),u,t=0;t<n.length;++t)g=n[t],x.push(g.getAttribute("type")),"das1:features"==g.getAttribute("type")&&(u=g.getAttribute("query_uri"),u=u.substring(0,u.length-8));t={};d=d.getElementsByTagName("PROP");for(n=0;n<d.length;++n)q(t,d[n].getAttribute("name"),d[n].getAttribute("value"));u&&(l=new v(u,{source_uri:l.getAttribute("uri"),name:l.getAttribute("title"),
desc:l.getAttribute("description"),coords:m,props:t,capabilities:x}),f.push(l))}}a(f)}})};v.prototype.doCrossDomainRequest=function(a,e,b){var f;this.xUser&&(f="Basic "+btoa(this.xUser+":"+this.xPass));try{return z(a,e,this.credentials,f)}catch(c){if(b)b(c);else throw c;}};"undefined"!==typeof J&&(J.exports={DASGroup:C,DASFeature:w,DASStylesheet:c,DASStyle:t,DASSource:v,DASSegment:r,DASRegistry:u,DASSequence:I,DASLink:d,isDasBooleanTrue:H,isDasBooleanNotFalse:a,copyStylesheet:e,coordsMatch:g})},{"./color":4,
"./utils":10}],6:[function(A,J,L){(function(r){function v(b){this.bam=b}function E(b){this.bbi=b}var g=A("./bin"),I=A("./bam"),w=A("./bigwig"),C={},d=0;r.newID=function(){return"cn"+ ++d};postMessage({tag:"init"});self.onmessage=function(b){var c=b.data,d=b.data.command,u=b.data.tag;if("connectBAM"===d){var r=newID(),n;c.blob?(b=new g.BlobFetchable(c.blob),d=new g.BlobFetchable(c.indexBlob)):(b=new g.URLFetchable(c.uri,{credentials:c.credentials}),d=new g.URLFetchable(c.indexUri,{credentials:c.credentials}),
n=c.indexChunks);I.makeBam(b,d,n,function(b,c){b?(C[r]=new v(b),postMessage({tag:u,result:r})):postMessage({tag:u,error:c||"Couldn't fetch BAM"})})}else if("connectBBI"===d)r=newID(),n=c.blob?new g.BlobFetchable(c.blob):new g.URLFetchable(c.uri,{credentials:c.credentials}),w.makeBwg(n,function(b,c){b?(C[r]=new E(b),postMessage({tag:u,result:r})):postMessage({tag:u,error:c||"Couldn't fetch BBI"})},c.uri);else if("fetch"===d){n=C[b.data.connection];if(!n)return postMessage({tag:u,error:"No such connection: "+
b.data.connection});n.fetch(c.tag,c.chr,c.min,c.max,c.zoom,c.opts)}else if("leap"===d){n=C[b.data.connection];if(!n)return postMessage({tag:u,error:"No such connection: "+b.data.connection});n.leap(c.tag,c.chr,c.pos,c.dir)}else if("quantLeap"===d){n=C[b.data.connection];if(!n)return postMessage({tag:u,error:"No such connection: "+b.data.connection});n.quantLeap(c.tag,c.chr,c.pos,c.dir,c.threshold,c.under)}else if("meta"===d){n=C[b.data.connection];if(!n)return postMessage({tag:u,error:"No such connection: "+
b.data.connection});n.meta(c.tag)}else if("search"===d){n=C[b.data.connection];if(!n)return postMessage({tag:u,error:"No such connection: "+b.data.connection});n.search(c.tag,c.query,c.index)}else{if("date"===d)return postMessage({tag:u,result:Date.now()|0});postMessage({tag:u,error:"Bad command "+d})}};v.prototype.fetch=function(b,c,d,g,w,n){n=n||{};this.bam.fetch(c,d,g,function(c,d){c?postMessage({tag:b,result:c,time:Date.now()|0}):postMessage({tag:b,error:d})},n)};E.prototype.fetch=function(b,
c,d,g,w){"number"!==typeof w&&(w=-1);(0>w?this.bbi.getUnzoomedView():this.bbi.getZoomedView(w)).readWigData(c,d,g,function(c){postMessage({tag:b,result:c})})};E.prototype.meta=function(b){for(var c=[1],d=0;d<this.bbi.zoomLevels.length;++d)c.push(this.bbi.zoomLevels[d].reduction);var g=this,w={type:this.bbi.type,zoomLevels:c,fieldCount:this.bbi.fieldCount,definedFieldCount:this.bbi.definedFieldCount,schema:this.bbi.schema};"bigbed"===this.bbi.type?this.bbi.getExtraIndices(function(c){c&&(g.extraIndices=
c,w.extraIndices=c.map(function(b){return b.field}));postMessage({tag:b,result:w})}):postMessage({tag:b,result:w})};E.prototype.leap=function(b,c,d,g){this.bbi.getUnzoomedView().getFirstAdjacent(c,d,g,function(c,d){postMessage({tag:b,result:c,error:d})})};E.prototype.quantLeap=function(b,c,d,g,w,n){this.bbi.thresholdSearch(c,d,g,w,function(c,d){postMessage({tag:b,result:c,error:d})})};E.prototype.search=function(b,c,d){this.extraIndices[0].lookup(c,function(c,d){postMessage({tag:b,result:c,error:d})})}}).call(this,
"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bam":1,"./bigwig":2,"./bin":3}],7:[function(A,J,L){function r(b,c){this.block=b;this.offset=c}function v(b,c){var d=4294967296*(b[c+6]&255)+16777216*(b[c+5]&255)+65536*(b[c+4]&255)+256*(b[c+3]&255)+(b[c+2]&255),g=b[c+1]<<8|b[c];return 0==d&&0==g?null:new r(d,g)}function E(b,c){c=Math.min(c||1,b.byteLength-50);for(var t=[],g=[0],w=0;g[0]<c;){var n=new Uint8Array(b,g[0],12),n=n[11]<<8|n[10],n=C(b,12+n+g[0],Math.min(65536,b.byteLength-
12-n-g[0]),g);g[0]+=8;w+=n.byteLength;t.push(n)}if(1==t.length)return t[0];g=new Uint8Array(w);for(n=w=0;n<t.length;++n){var r=new Uint8Array(t[n]);d(r,0,g,w,r.length);w+=r.length}return g.buffer}function g(b,c){this.minv=b;this.maxv=c}function I(b,c){--c;return b>>14==c>>14?4681+(b>>14):b>>17==c>>17?585+(b>>17):b>>20==c>>20?73+(b>>20):b>>23==c>>23?9+(b>>23):b>>26==c>>26?1+(b>>26):0}function w(b,c){var d,g=[];--c;g.push(0);for(d=1+(b>>26);d<=1+(c>>26);++d)g.push(d);for(d=9+(b>>23);d<=9+(c>>23);++d)g.push(d);
for(d=73+(b>>20);d<=73+(c>>20);++d)g.push(d);for(d=585+(b>>17);d<=585+(c>>17);++d)g.push(d);for(d=4681+(b>>14);d<=4681+(c>>14);++d)g.push(d);return g}if("undefined"!==typeof A){A=A("jszlib");var C=A.inflateBuffer,d=A.arrayCopy}r.prototype.toString=function(){return""+this.block+":"+this.offset};"undefined"!==typeof J&&(J.exports={unbgzf:E,readVob:v,reg2bin:I,reg2bins:w,Chunk:g})},{jszlib:11}],8:[function(A,J,L){function r(w){w=E(g(w));for(var r="",d,b=0;b<w.length;b++)d=w.charCodeAt(b),r+="0123456789abcdef".charAt(d>>>
4&15)+"0123456789abcdef".charAt(d&15);return r}function v(w){w=E(g(w));for(var r="",d=w.length,b=0;b<d;b+=3)for(var c=w.charCodeAt(b)<<16|(b+1<d?w.charCodeAt(b+1)<<8:0)|(b+2<d?w.charCodeAt(b+2):0),t=0;4>t;t++)r=8*b+6*t>8*w.length?r+"":r+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>>6*(3-t)&63);return r}function E(g){for(var r=Array(g.length>>2),d=0;d<r.length;d++)r[d]=0;for(d=0;d<8*g.length;d+=8)r[d>>5]|=(g.charCodeAt(d/8)&255)<<24-d%32;g=8*g.length;r[g>>5]|=128<<24-
g%32;r[(g+64>>9<<4)+15]=g;g=Array(80);for(var d=1732584193,b=-271733879,c=-1732584194,t=271733878,u=-1009589776,v=0;v<r.length;v+=16){for(var n=d,A=b,z=c,E=t,a=u,e=0;80>e;e++){if(16>e)g[e]=r[v+e];else{var f=g[e-3]^g[e-8]^g[e-14]^g[e-16];g[e]=f<<1|f>>>31}var f=d<<5|d>>>27,q;q=20>e?b&c|~b&t:40>e?b^c^t:60>e?b&c|b&t|c&t:b^c^t;f=I(I(f,q),I(I(u,g[e]),20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514));u=t;t=c;c=b<<30|b>>>2;b=d;d=f}d=I(d,n);b=I(b,A);c=I(c,z);t=I(t,E);u=I(u,a)}r=[d,b,c,t,u];g="";
for(d=0;d<32*r.length;d+=8)g+=String.fromCharCode(r[d>>5]>>>24-d%32&255);return g}function g(g){for(var r="",d=-1,b,c;++d<g.length;)b=g.charCodeAt(d),c=d+1<g.length?g.charCodeAt(d+1):0,55296<=b&&56319>=b&&56320<=c&&57343>=c&&(b=65536+((b&1023)<<10)+(c&1023),d++),127>=b?r+=String.fromCharCode(b):2047>=b?r+=String.fromCharCode(192|b>>>6&31,128|b&63):65535>=b?r+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|b&63):2097151>=b&&(r+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|b&
63));return r}function I(g,r){var d=(g&65535)+(r&65535);return(g>>16)+(r>>16)+(d>>16)<<16|d&65535}"undefined"!==typeof J&&(J.exports={b64_sha1:v,hex_sha1:r})},{}],9:[function(A,J,L){function r(d,b){if("number"!=typeof d||"number"!=typeof b)throw"Bad range "+d+","+b;this._min=d;this._max=b}function v(d){this._ranges=d}function E(d,b){d instanceof Array||(d=[d],b&&d.push(b));if(0==d.length)return null;if(1==d.length)return d[0];for(var c=[],g=0;g<d.length;++g)d[g]._pushRanges(c);for(var c=c.sort(C),
g=[],w=c[0],w=new r(w._min,w._max),y=1;y<c.length;++y){var n=c[y];n._min>w._max+1?(g.push(w),w=new r(n._min,n._max)):n._max>w._max&&(w._max=n._max)}g.push(w);return 1==g.length?g[0]:new v(g)}function g(d,b){for(var c=d.ranges(),g=b.ranges(),w=c.length,y=g.length,n=0,A=0,z=[];n<w&&A<y;){d=c[n];b=g[A];var C=Math.max(d.min(),b.min()),a=Math.min(d.max(),b.max());a>=C&&z.push(new r(C,a));d.max()>b.max()?++A:++n}return 0==z.length?null:1==z.length?z[0]:new v(z)}function I(d){var b=0;d=d.ranges();for(var c=
0;c<d.length;++c)var g=d[c],b=b+(g.max()-g.min()+1);return b}function w(d,b){return d.min()<b.min()?-1:d.min()>b.min()?1:d.max()<b.max()?-1:b.max()>d.max()?1:0}function C(d,b){return d._min<b._min?-1:d._min>b._min?1:d._max<b._max?-1:b._max>d._max?1:0}r.prototype.min=function(){return this._min};r.prototype.max=function(){return this._max};r.prototype.contains=function(d){return d>=this._min&&d<=this._max};r.prototype.isContiguous=function(){return!0};r.prototype.ranges=function(){return[this]};r.prototype._pushRanges=
function(d){d.push(this)};r.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"};v.prototype.min=function(){return this._ranges[0].min()};v.prototype.max=function(){return this._ranges[this._ranges.length-1].max()};v.prototype.contains=function(d){for(var b=0;b<this._ranges.length;++b)if(this._ranges[b].contains(d))return!0;return!1};v.prototype.isContiguous=function(){return 1<this._ranges.length};v.prototype.ranges=function(){return this._ranges};v.prototype._pushRanges=function(d){for(var b=
0;b<this._ranges.length;++b)d.push(this._ranges[b])};v.prototype.toString=function(){for(var d="",b=0;b<this._ranges.length;++b)0<b&&(d+=","),d+=this._ranges[b].toString();return d};"undefined"!==typeof J&&(J.exports={Range:r,union:E,intersection:g,coverage:I,rangeOver:w,_rangeOrder:C})},{}],10:[function(A,J,L){function r(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return;a.push(b)}function v(a,b,c){a[b]?a[b].push(c):a[b]=[c]}function E(a,b,c){var d=a[b];if(d){for(a=0;a<d.length;++a)if(d[a]==c)return;
d.push(c)}else a[b]=[c]}function g(a,b,c,d){if(a)return a;if(b)return b;if(c)return c;if(d)return d}function r(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return;a.push(b)}function I(a,b){if(!a)return-1;for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function w(a,b,c,d){a=document.createElement(a);if(b){b instanceof Array||(b=[b]);for(var h=0;h<b.length;++h){var k=b[h];k&&("string"==typeof k?k=document.createTextNode(k):"number"==typeof k&&(k=document.createTextNode(""+k)),a.appendChild(k))}}if(c)for(var m in c)try{a[m]=
c[m]}catch(g){throw console.log("error setting "+m),g;}if(d)for(m in d)a.style[m]=d[m];return a}function C(a,b,c,d){a=document.createElementNS(a,b);if(c)for(c instanceof Array||(c=[c]),b=0;b<c.length;++b){var h=c[b];"string"==typeof h&&(h=document.createTextNode(h));a.appendChild(h)}if(d)for(var k in d){c=a;b=k;var h=d[k],m=H[b];if(!m){for(var m="",g=0;g<b.length;++g)var p=b.substring(g,g+1),n=p.toLowerCase(),m=n!=p?m+"-"+n:m+p;H[b]=m}c.setAttribute(m,h)}return a}function d(a){if(a&&a.childNodes)for(;0<
a.childNodes.length;)a.removeChild(a.firstChild)}function b(a,c){if("undefined"===typeof a)return"undefined";if(null==a)return"null";if("string"==typeof a)return"'"+a+"'";if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array){for(var d=null,l=0;l<a.length;++l)d=(null==d?"":d+", ")+b(a[l],c);return"["+(d?d:"")+"]"}c=c||{};d=null;for(l in a)c[l]||void 0!=l&&"function"!=typeof a[l]&&(d=(null==d?"":d+", ")+l+": "+b(a[l],c));return"{"+(d?d:"")+"}"}return typeof a}
function c(a){var b={},c;for(c in a)b[c]=a[c];return b}function t(a){this.value=a;this.listeners=[]}function u(){this.queue=[]}function y(e,b,c){c.salt&&(e=e+"?salt="+z(""+Date.now()+","+ ++a));var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&(300<=d.status?b(null,"Error code "+d.status):b(d.responseText))};d.open("GET",e,!0);d.responseType="text";c&&c.credentials&&(d.withCredentials=!0);d.send("")}function n(a,b){if(0==b.indexOf("http:")||0==b.indexOf("https:"))return b;
var c=a.lastIndexOf("/");return 0<=c?a.substr(0,c+1)+b:b}function K(a){return w("a",null,{href:a}).href}if("undefined"!==typeof A)var z=A("./sha1").b64_sha1;var H={};t.prototype.addListener=function(a){this.listeners.push(a)};t.prototype.addListenerAndFire=function(a){this.listeners.push(a);a(this.value)};t.prototype.removeListener=function(a){var b=this.listeners;a=I(b,a);0<=a&&b.splice(a,1)};t.prototype.get=function(){return this.value};t.prototype.set=function(a){this.value=a;for(var b=0;b<this.listeners.length;++b)this.listeners[b](a)};
u.prototype.provide=function(a){if(void 0!==this.res)throw"Resource has already been provided.";this.res=a;for(var b=0;b<this.queue.length;++b)this.queue[b](a);this.queue=null};u.prototype.await=function(a){if(void 0!==this.res)return a(this.res),this.res;this.queue.push(a)};var a=0;A={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",
ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"*",TAG:"*",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"*",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"};"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});"undefined"!==typeof J&&(J.exports={textXHR:y,relativeURL:n,resolveUrlToPage:K,shallowCopy:c,
pusho:v,pushnew:r,pushnewo:E,arrayIndexOf:I,pick:g,makeElement:w,makeElementNS:C,removeChildren:d,miniJSONify:b,Observed:t,Awaited:u,AMINO_ACID_TRANSLATION:A})},{"./sha1":8}],11:[function(A,J,L){function r(){}function v(){this.was=[0]}function E(a,b,c){this.hufts=new Int32Array(4320);this.window=new Uint8Array(c);this.end=c;this.checkfn=b;this.mode=0;this.reset(a,null);this.index=this.table=this.left=0;this.blens=null;this.bb=new Int32Array(1);this.tb=new Int32Array(1);this.codes=new g;this.check=
this.write=this.read=this.bitb=this.bitk=this.last=0;this.inftree=new I}function g(){}function I(){}function w(a,b,c,d,l){if(0!=l){if(!a)throw"Undef src";if(!c)throw"Undef dest";if(0==b&&l==a.length)c.set(a,d);else if(H)a=a.subarray(b,b+l),c.set(a,d);else if(1==a.BYTES_PER_ELEMENT&&100<l)a=new Uint8Array(a.buffer,a.byteOffset+b,l),c.set(a,d);else for(var h=0;h<l;++h)c[d+h]=a[b+h]}}function C(a,b,c,d){a=b?c?new Uint8Array(a,b,c):new Uint8Array(a,b,a.byteLength-b):new Uint8Array(a);c=new r;c.inflateInit(15,
!0);c.next_in=a;c.next_in_index=0;c.avail_in=a.length;a=[];for(var l=0;;){var h=new Uint8Array(32E3);c.next_out=h;c.next_out_index=0;c.avail_out=h.length;var k=c.inflate(0);if(0!=k&&1!=k&&-5!=k)throw c.msg;if(0!=c.avail_out){var m=new Uint8Array(h.length-c.avail_out);w(h,0,m,0,h.length-c.avail_out);h=m}a.push(h);l+=h.length;if(1==k||-5==k)break}d&&(d[0]=(b||0)+c.next_in_index);if(1==a.length)return a[0].buffer;b=new Uint8Array(l);for(c=d=0;c<a.length;++c)l=a[c],w(l,0,b,d,l.length),d+=l.length;return b.buffer}
var d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],b=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,
82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,
46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,
0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,
254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,
0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,
7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,
0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],c=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,
80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],n=[0,
0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];r.prototype.inflateInit=function(a,b){a||(a=15);b&&(b=!1);this.istate=new v;return this.istate.inflateInit(this,b?-a:a)};r.prototype.inflate=function(a){return null==this.istate?-2:this.istate.inflate(this,a)};r.prototype.inflateEnd=function(){if(null==this.istate)return-2;var a=istate.inflateEnd(this);this.istate=null;return a};r.prototype.inflateSync=function(){return istate.inflateSync(this)};r.prototype.inflateSetDictionary=function(a,
b){return istate.inflateSetDictionary(this,a,b)};v.prototype.inflateReset=function(a){if(null==a||null==a.istate)return-2;a.total_in=a.total_out=0;a.msg=null;a.istate.mode=0!=a.istate.nowrap?7:0;a.istate.blocks.reset(a,null);return 0};v.prototype.inflateEnd=function(a){null!=this.blocks&&this.blocks.free(a);this.blocks=null;return 0};v.prototype.inflateInit=function(a,b){this.blocks=a.msg=null;nowrap=0;0>b&&(b=-b,nowrap=1);if(8>b||15<b)return this.inflateEnd(a),-2;this.wbits=b;a.istate.blocks=new E(a,
0!=a.istate.nowrap?null:this,1<<b);this.inflateReset(a);return 0};v.prototype.inflate=function(a,b){var c,d;if(null==a||null==a.istate||null==a.next_in)return-2;b=4==b?-5:0;for(c=-5;;)switch(a.istate.mode){case 0:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;if(8!=((a.istate.method=a.next_in[a.next_in_index++])&15)){a.istate.mode=13;a.msg="unknown compression method";a.istate.marker=5;break}if((a.istate.method>>4)+8>a.istate.wbits){a.istate.mode=13;a.msg="invalid window size";a.istate.marker=
5;break}a.istate.mode=1;case 1:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;d=a.next_in[a.next_in_index++]&255;if(0!=((a.istate.method<<8)+d)%31){a.istate.mode=13;a.msg="incorrect header check";a.istate.marker=5;break}if(0==(d&32)){a.istate.mode=7;break}a.istate.mode=2;case 2:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need=(a.next_in[a.next_in_index++]&255)<<24&4278190080;a.istate.mode=3;case 3:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=
(a.next_in[a.next_in_index++]&255)<<16&16711680;a.istate.mode=4;case 4:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=(a.next_in[a.next_in_index++]&255)<<8&65280;a.istate.mode=5;case 5:if(0==a.avail_in)return c;a.avail_in--;a.total_in++;a.istate.need+=a.next_in[a.next_in_index++]&255;a.adler=a.istate.need;a.istate.mode=6;return 2;case 6:return a.istate.mode=13,a.msg="need dictionary",a.istate.marker=0,-2;case 7:c=a.istate.blocks.proc(a,c);if(-3==c){a.istate.mode=13;a.istate.marker=
0;break}0==c&&(c=b);if(1!=c)return c;c=b;a.istate.blocks.reset(a,a.istate.was);if(0!=a.istate.nowrap){a.istate.mode=12;break}a.istate.mode=8;case 8:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need=(a.next_in[a.next_in_index++]&255)<<24&4278190080;a.istate.mode=9;case 9:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=(a.next_in[a.next_in_index++]&255)<<16&16711680;a.istate.mode=10;case 10:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=
(a.next_in[a.next_in_index++]&255)<<8&65280;a.istate.mode=11;case 11:if(0==a.avail_in)return c;c=b;a.avail_in--;a.total_in++;a.istate.need+=a.next_in[a.next_in_index++]&255;if(a.istate.was[0]!=a.istate.need){a.istate.mode=13;a.msg="incorrect data check";a.istate.marker=5;break}a.istate.mode=12;case 12:return 1;case 13:return-3;default:return-2}};v.prototype.inflateSetDictionary=function(a,b,c){var d=0,l=c;if(null==a||null==a.istate||6!=a.istate.mode)return-2;if(a._adler.adler32(1,b,0,c)!=a.adler)return-3;
a.adler=a._adler.adler32(0,null,0,0);l>=1<<a.istate.wbits&&(l=(1<<a.istate.wbits)-1,d=c-l);a.istate.blocks.set_dictionary(b,d,l);a.istate.mode=7;return 0};var K=[0,0,255,255];v.prototype.inflateSync=function(a){var b,c,d;if(null==a||null==a.istate)return-2;13!=a.istate.mode&&(a.istate.mode=13,a.istate.marker=0);if(0==(b=a.avail_in))return-5;c=a.next_in_index;for(d=a.istate.marker;0!=b&&4>d;)a.next_in[c]==K[d]?d++:d=0!=a.next_in[c]?0:4-d,c++,b--;a.total_in+=c-a.next_in_index;a.next_in_index=c;a.avail_in=
b;a.istate.marker=d;if(4!=d)return-3;b=a.total_in;c=a.total_out;this.inflateReset(a);a.total_in=b;a.total_out=c;a.istate.mode=7;return 0};v.prototype.inflateSyncPoint=function(a){return null==a||null==a.istate||null==a.istate.blocks?-2:a.istate.blocks.sync_point()};var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];E.prototype.reset=function(a,b){b&&(b[0]=this.check);6==this.mode&&this.codes.free(a);this.read=this.write=this.bitb=this.bitk=this.mode=0;this.checkfn&&(a.adler=this.check=a._adler.adler32(0,
null,0,0))};E.prototype.proc=function(a,e){var f,q,l,h,k,m,g;h=a.next_in_index;k=a.avail_in;q=this.bitb;l=this.bitk;m=this.write;for(g=m<this.read?this.read-m-1:this.end-m;;)switch(this.mode){case 0:for(;3>l;){if(0!=k)e=0;else return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);k--;q|=(a.next_in[h++]&255)<<l;l+=8}f=q&7;this.last=f&1;switch(f>>>1){case 0:q>>>=3;l-=3;f=l&7;q>>>=f;l-=f;this.mode=1;break;case 1:var p=new Int32Array(1),
n=new Int32Array(1),r=[],t=[];f=n;var u=r,v=t;p[0]=9;f[0]=5;u[0]=b;v[0]=c;this.codes.init(p[0],n[0],r[0],0,t[0],0,a);q>>>=3;l-=3;this.mode=6;break;case 2:q>>>=3;l-=3;this.mode=3;break;case 3:return q>>>=3,l-=3,this.mode=13,a.msg="invalid block type",e=-3,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e)}break;case 1:for(;32>l;){if(0!=k)e=0;else return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=
h,this.write=m,this.inflate_flush(a,e);k--;q|=(a.next_in[h++]&255)<<l;l+=8}if((~q>>>16&65535)!=(q&65535))return this.mode=13,a.msg="invalid stored block lengths",e=-3,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);this.left=q&65535;q=l=0;this.mode=0!=this.left?2:0!=this.last?7:0;break;case 2:if(0==k)return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,write=m,this.inflate_flush(a,e);if(0==
g&&(m==end&&0!=read&&(m=0,g=m<this.read?this.read-m-1:this.end-m),0==g&&(this.write=m,e=this.inflate_flush(a,e),m=this.write,g=m<this.read?this.read-m-1:this.end-m,m==this.end&&0!=this.read&&(m=0,g=m<this.read?this.read-m-1:this.end-m),0==g)))return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);e=0;f=this.left;f>k&&(f=k);f>g&&(f=g);w(a.next_in,h,this.window,m,f);h+=f;k-=f;m+=f;g-=f;if(0!=(this.left-=f))break;this.mode=0!=
this.last?7:0;break;case 3:for(;14>l;){if(0!=k)e=0;else return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);k--;q|=(a.next_in[h++]&255)<<l;l+=8}this.table=f=q&16383;if(29<(f&31)||29<(f>>5&31))return this.mode=9,a.msg="too many length or distance symbols",e=-3,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);f=258+(f&31)+(f>>5&31);if(null==this.blens||
this.blens.length<f)this.blens=new Int32Array(f);else for(g=0;g<f;g++)this.blens[g]=0;q>>>=14;l-=14;this.index=0;mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;3>l;){if(0!=k)e=0;else return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);k--;q|=(a.next_in[h++]&255)<<l;l+=8}this.blens[z[this.index++]]=q&7;q>>>=3;l-=3}for(;19>this.index;)this.blens[z[this.index++]]=0;this.bb[0]=7;f=this.inftree.inflate_trees_bits(this.blens,
this.bb,this.tb,this.hufts,a);if(0!=f)return e=f,-3==e&&(this.blens=null,this.mode=9),this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,write=m,this.inflate_flush(a,e);this.index=0;this.mode=5;case 5:for(;;){f=this.table;if(!(this.index<258+(f&31)+(f>>5&31)))break;for(f=this.bb[0];l<f;){if(0!=k)e=0;else return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);k--;q|=(a.next_in[h++]&255)<<l;l+=
8}f=this.hufts[3*(this.tb[0]+(q&d[f]))+1];n=this.hufts[3*(this.tb[0]+(q&d[f]))+2];if(16>n)q>>>=f,l-=f,this.blens[this.index++]=n;else{g=18==n?7:n-14;for(p=18==n?11:3;l<f+g;){if(0!=k)e=0;else return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);k--;q|=(a.next_in[h++]&255)<<l;l+=8}q>>>=f;l-=f;p+=q&d[g];q>>>=g;l-=g;g=this.index;f=this.table;if(g+p>258+(f&31)+(f>>5&31)||16==n&&1>g)return this.blens=null,this.mode=9,a.msg="invalid bit length repeat",
e=-3,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);n=16==n?this.blens[g-1]:0;do this.blens[g++]=n;while(0!=--p);this.index=g}}this.tb[0]=-1;p=new Int32Array(1);n=new Int32Array(1);r=new Int32Array(1);t=new Int32Array(1);p[0]=9;n[0]=6;f=this.table;f=this.inftree.inflate_trees_dynamic(257+(f&31),1+(f>>5&31),this.blens,p,n,r,t,this.hufts,a);if(0!=f)return-3==f&&(this.blens=null,this.mode=13),e=f,this.bitb=q,this.bitk=l,a.avail_in=
k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);this.codes.init(p[0],n[0],this.hufts,r[0],this.hufts,t[0],a);this.mode=6;case 6:this.bitb=q;this.bitk=l;a.avail_in=k;a.total_in+=h-a.next_in_index;a.next_in_index=h;this.write=m;if(1!=(e=this.codes.proc(this,a,e)))return this.inflate_flush(a,e);e=0;this.codes.free(a);h=a.next_in_index;k=a.avail_in;q=this.bitb;l=this.bitk;m=this.write;g=m<this.read?this.read-m-1:this.end-m;if(0==this.last){this.mode=0;break}this.mode=
7;case 7:this.write=m;e=this.inflate_flush(a,e);m=this.write;if(this.read!=this.write)return this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);mode=12;case 8:return e=1,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e);case 9:return e=-3,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,
e);default:return e=-2,this.bitb=q,this.bitk=l,a.avail_in=k,a.total_in+=h-a.next_in_index,a.next_in_index=h,this.write=m,this.inflate_flush(a,e)}};E.prototype.free=function(a){this.reset(a,null);this.hufts=this.window=null};E.prototype.set_dictionary=function(a,b,c){w(a,b,window,0,c);this.read=this.write=c};E.prototype.sync_point=function(){return 1==this.mode};E.prototype.inflate_flush=function(a,b){var c,d,l;d=a.next_out_index;l=this.read;c=(l<=this.write?this.write:this.end)-l;c>a.avail_out&&(c=
a.avail_out);0!=c&&-5==b&&(b=0);a.avail_out-=c;a.total_out+=c;null!=this.checkfn&&(a.adler=this.check=a._adler.adler32(this.check,this.window,l,c));w(this.window,l,a.next_out,d,c);d+=c;l+=c;l==this.end&&(l=0,this.write==this.end&&(this.write=0),c=this.write-l,c>a.avail_out&&(c=a.avail_out),0!=c&&-5==b&&(b=0),a.avail_out-=c,a.total_out+=c,null!=this.checkfn&&(a.adler=this.check=a._adler.adler32(this.check,this.window,l,c)),w(this.window,l,a.next_out,d,c),d+=c,l+=c);a.next_out_index=d;this.read=l;return b};
g.prototype.init=function(a,b,c,d,l,h,k){this.mode=0;this.lbits=a;this.dbits=b;this.ltree=c;this.ltree_index=d;this.dtree=l;this.dtree_index=h;this.tree=null};g.prototype.proc=function(a,b,c){var g,l,h=0,k=0,m=0,n,p,r,m=b.next_in_index;n=b.avail_in;h=a.bitb;k=a.bitk;p=a.write;for(r=p<a.read?a.read-p-1:a.end-p;;)switch(this.mode){case 0:if(258<=r&&10<=n&&(a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,c=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,
this.dtree,this.dtree_index,a,b),m=b.next_in_index,n=b.avail_in,h=a.bitb,k=a.bitk,p=a.write,r=p<a.read?a.read-p-1:a.end-p,0!=c)){this.mode=1==c?7:9;break}this.need=this.lbits;this.tree=this.ltree;this.tree_index=this.ltree_index;this.mode=1;case 1:for(g=this.need;k<g;){if(0!=n)c=0;else return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);n--;h|=(b.next_in[m++]&255)<<k;k+=8}g=3*(this.tree_index+(h&d[g]));h>>>=this.tree[g+1];k-=this.tree[g+
1];l=this.tree[g];if(0==l){this.lit=this.tree[g+2];this.mode=6;break}if(0!=(l&16)){this.get=l&15;this.len=this.tree[g+2];this.mode=2;break}if(0==(l&64)){this.need=l;this.tree_index=g/3+this.tree[g+2];break}if(0!=(l&32)){this.mode=7;break}this.mode=9;b.msg="invalid literal/length code";c=-3;a.bitb=h;a.bitk=k;b.avail_in=n;b.total_in+=m-b.next_in_index;b.next_in_index=m;a.write=p;return a.inflate_flush(b,c);case 2:for(g=this.get;k<g;){if(0!=n)c=0;else return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=
m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);n--;h|=(b.next_in[m++]&255)<<k;k+=8}this.len+=h&d[g];h>>=g;k-=g;this.need=this.dbits;this.tree=this.dtree;this.tree_index=this.dtree_index;this.mode=3;case 3:for(g=this.need;k<g;){if(0!=n)c=0;else return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);n--;h|=(b.next_in[m++]&255)<<k;k+=8}g=3*(this.tree_index+(h&d[g]));h>>=this.tree[g+1];k-=this.tree[g+1];l=this.tree[g];if(0!=
(l&16)){this.get=l&15;this.dist=this.tree[g+2];this.mode=4;break}if(0==(l&64)){this.need=l;this.tree_index=g/3+this.tree[g+2];break}this.mode=9;b.msg="invalid distance code";c=-3;a.bitb=h;a.bitk=k;b.avail_in=n;b.total_in+=m-b.next_in_index;b.next_in_index=m;a.write=p;return a.inflate_flush(b,c);case 4:for(g=this.get;k<g;){if(0!=n)c=0;else return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);n--;h|=(b.next_in[m++]&255)<<k;k+=8}this.dist+=
h&d[g];h>>=g;k-=g;this.mode=5;case 5:for(g=p-this.dist;0>g;)g+=a.end;for(;0!=this.len;){if(0==r&&(p==a.end&&0!=a.read&&(p=0,r=p<a.read?a.read-p-1:a.end-p),0==r&&(a.write=p,c=a.inflate_flush(b,c),p=a.write,r=p<a.read?a.read-p-1:a.end-p,p==a.end&&0!=a.read&&(p=0,r=p<a.read?a.read-p-1:a.end-p),0==r)))return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);a.window[p++]=a.window[g++];r--;g==a.end&&(g=0);this.len--}this.mode=0;break;case 6:if(0==
r&&(p==a.end&&0!=a.read&&(p=0,r=p<a.read?a.read-p-1:a.end-p),0==r&&(a.write=p,c=a.inflate_flush(b,c),p=a.write,r=p<a.read?a.read-p-1:a.end-p,p==a.end&&0!=a.read&&(p=0,r=p<a.read?a.read-p-1:a.end-p),0==r)))return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);c=0;a.window[p++]=this.lit;r--;this.mode=0;break;case 7:7<k&&(k-=8,n++,m--);a.write=p;c=a.inflate_flush(b,c);p=a.write;if(a.read!=a.write)return a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=
m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);this.mode=8;case 8:return c=1,a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);case 9:return c=-3,a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c);default:return c=-2,a.bitb=h,a.bitk=k,b.avail_in=n,b.total_in+=m-b.next_in_index,b.next_in_index=m,a.write=p,a.inflate_flush(b,c)}};g.prototype.free=function(a){};g.prototype.inflate_fast=
function(a,b,c,g,l,h,k,m){var n,p,r,t,B,u,v,y,A,C,G,z;u=m.next_in_index;v=m.avail_in;t=k.bitb;B=k.bitk;y=k.write;A=y<k.read?k.read-y-1:k.end-y;a=d[a];C=d[b];do{for(;20>B;)v--,t|=(m.next_in[u++]&255)<<B,B+=8;n=t&a;p=c;r=g;z=3*(r+n);if(0==(b=p[z]))t>>=p[z+1],B-=p[z+1],k.window[y++]=p[z+2],A--;else{do{t>>=p[z+1];B-=p[z+1];if(0!=(b&16)){b&=15;G=p[z+2]+(t&d[b]);t>>=b;for(B-=b;15>B;)v--,t|=(m.next_in[u++]&255)<<B,B+=8;n=t&C;p=l;r=h;z=3*(r+n);b=p[z];do if(t>>=p[z+1],B-=p[z+1],0!=(b&16)){for(b&=15;B<b;)v--,
t|=(m.next_in[u++]&255)<<B,B+=8;n=p[z+2]+(t&d[b]);t>>=b;B-=b;A-=G;if(y>=n)n=y-n,k.window[y++]=k.window[n++],k.window[y++]=k.window[n++],G-=2;else{n=y-n;do n+=k.end;while(0>n);b=k.end-n;if(G>b){G-=b;if(0<y-n&&b>y-n){do k.window[y++]=k.window[n++];while(0!=--b)}else w(k.window,n,k.window,y,b),y+=b;n=0}}do k.window[y++]=k.window[n++];while(0!=--G);break}else if(0==(b&64))n+=p[z+2],n+=t&d[b],z=3*(r+n),b=p[z];else return m.msg="invalid distance code",G=m.avail_in-v,G=B>>3<G?B>>3:G,v+=G,u-=G,B-=G<<3,k.bitb=
t,k.bitk=B,m.avail_in=v,m.total_in+=u-m.next_in_index,m.next_in_index=u,k.write=y,-3;while(1);break}if(0==(b&64)){if(n+=p[z+2],n+=t&d[b],z=3*(r+n),0==(b=p[z])){t>>=p[z+1];B-=p[z+1];k.window[y++]=p[z+2];A--;break}}else{if(0!=(b&32))return G=m.avail_in-v,G=B>>3<G?B>>3:G,v+=G,u-=G,B-=G<<3,k.bitb=t,k.bitk=B,m.avail_in=v,m.total_in+=u-m.next_in_index,m.next_in_index=u,k.write=y,1;m.msg="invalid literal/length code";G=m.avail_in-v;G=B>>3<G?B>>3:G;v+=G;u-=G;B-=G<<3;k.bitb=t;k.bitk=B;m.avail_in=v;m.total_in+=
u-m.next_in_index;m.next_in_index=u;k.write=y;return-3}}while(1)}}while(258<=A&&10<=v);G=m.avail_in-v;G=B>>3<G?B>>3:G;u-=G;k.bitb=t;k.bitk=B-(G<<3);m.avail_in=v+G;m.total_in+=u-m.next_in_index;m.next_in_index=u;k.write=y;return 0};I.prototype.huft_build=function(a,b,c,d,g,h,k,m,n,p,r){var t,u,v,y,z,A,C,G,E;A=0;u=c;do this.c[a[b+A]]++,A++,u--;while(0!=u);if(this.c[0]==c)return k[0]=-1,m[0]=0;z=m[0];for(v=1;15>=v&&0==this.c[v];v++);y=v;z<v&&(z=v);for(u=15;0!=u&&0==this.c[u];u--);p=u;z>u&&(z=u);m[0]=
z;for(m=1<<v;v<u;v++,m<<=1)if(0>(m-=this.c[v]))return-3;if(0>(m-=this.c[u]))return-3;this.c[u]+=m;this.x[1]=v=0;A=1;for(C=2;0!=--u;)this.x[C]=v+=this.c[A],C++,A++;A=u=0;do 0!=(v=a[b+A])&&(this.v[this.x[v]++]=u),A++;while(++u<c);c=this.x[p];A=this.x[0]=u=0;b=-1;G=-z;for(E=C=this.u[0]=0;y<=p;y++)for(a=this.c[y];0!=a--;){for(;y>G+z;){b++;G+=z;E=p-G;E=E>z?z:E;if((t=1<<(v=y-G))>a+1&&(t-=a+1,C=y,v<E))for(;++v<E&&!((t<<=1)<=this.c[++C]);)t-=this.c[C];E=1<<v;if(1440<this.hn[0]+E)return-3;this.u[b]=C=this.hn[0];
this.hn[0]+=E;0!=b?(this.x[b]=u,this.r[0]=v,this.r[1]=z,v=u>>>G-z,this.r[2]=C-this.u[b-1]-v,w(this.r,0,n,3*(this.u[b-1]+v),3)):k[0]=C}this.r[1]=y-G;A>=c?this.r[0]=192:r[A]<d?(this.r[0]=256>this.v[A]?0:96,this.r[2]=this.v[A++]):(this.r[0]=h[this.v[A]-d]+16+64,this.r[2]=g[this.v[A++]-d]);t=1<<y-G;for(v=u>>>G;v<E;v+=t)w(this.r,0,n,3*(C+v),3);for(v=1<<y-1;0!=(u&v);v>>>=1)u^=v;u^=v;for(v=(1<<G)-1;(u&v)!=this.x[b];)b--,G-=z,v=(1<<G)-1}return 0!=m&&1!=p?-5:0};I.prototype.inflate_trees_bits=function(a,b,
c,d,g){this.initWorkArea(19);this.hn[0]=0;a=this.huft_build(a,0,19,19,null,null,c,b,d,this.hn,this.v);if(-3==a)g.msg="oversubscribed dynamic bit lengths tree";else if(-5==a||0==b[0])g.msg="incomplete dynamic bit lengths tree",a=-3;return a};I.prototype.inflate_trees_dynamic=function(a,b,c,d,g,h,k,m,r){this.initWorkArea(288);this.hn[0]=0;h=this.huft_build(c,0,a,257,t,u,h,d,m,this.hn,this.v);if(0!=h||0==d[0])return-3==h?r.msg="oversubscribed literal/length tree":-4!=h&&(r.msg="incomplete literal/length tree",
h=-3),h;this.initWorkArea(288);h=this.huft_build(c,a,b,0,y,n,k,g,m,this.hn,this.v);return 0!=h||0==g[0]&&257<a?(-3==h?r.msg="oversubscribed distance tree":-5==h?(r.msg="incomplete distance tree",h=-3):-4!=h&&(r.msg="empty distance tree with lengths",h=-3),h):0};I.prototype.initWorkArea=function(a){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(a),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16));this.v.length<a&&(this.v=new Int32Array(a));
for(var b=0;b<a;b++)this.v[b]=0;for(b=0;16>b;b++)this.c[b]=0;for(b=0;3>b;b++)this.r[b]=0;w(this.c,0,this.u,0,15);w(this.c,0,this.x,0,16)};var H="function"===typeof(new Uint8Array(1)).subarray;"undefined"!==typeof J&&(J.exports={inflateBuffer:C,arrayCopy:w})},{}]},{},[6]);
